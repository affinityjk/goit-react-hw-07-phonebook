(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{198:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"getFilterValue",(function(){return m}));var a=n(1),c=n.n(a),o=n(39),i=n.n(o),s=n(24),l=n(11),d=n(2),u=n(8),b=n(78),p=n.n(b),j=n(9),m=Object(d.b)("filter/get"),x=Object(d.d)("",Object(s.a)({},r.getFilterValue,(function(e,t){return t.payload}))),f=Object(j.b)({filter:x}),h=n(79),g=Object(h.a)({reducerPath:"contactAPI",baseQuery:Object(u.d)({baseUrl:"https://6129dddc068adf001789b947.mockapi.io/api/v1/"}),tagTypes:["Contacts"],endpoints:function(e){return{fetchContacts:e.query({query:function(){return"/contacts"},providesTags:["Contacts"]}),addContact:e.mutation({query:function(e){return{url:"/contacts",method:"POST",body:e}},invalidatesTags:["Contacts"]}),deleteContact:e.mutation({query:function(e){return{url:"/contacts/".concat(e),method:"DELETE"}},invalidatesTags:["Contacts"]})}}}),O=g.useFetchContactsQuery,v=g.useAddContactMutation,y=g.useDeleteContactMutation,w=[].concat(Object(l.a)(Object(d.f)()),[p.a,g.middleware]),k=Object(d.a)({reducer:Object(s.a)({phonebook:f},g.reducerPath,g.reducer),devTools:!1,middleware:w});Object(u.e)(k.dispatch);var C=n(6),X=(n(96),n(7));var z=Object(X.a)("div",{target:"e1tsst6y0"})({name:"14f0vxh",styles:"display:flex;flex-direction:column;margin:0 auto;padding:30px;background-color:#ffffff;border-radius:5px;border:5px solid lightsteelblue;width:600px"}),F=n(3);var q=function(e){var t=e.children;return Object(F.jsx)(z,{children:t})};var T=Object(X.a)("section",{target:"e13q732h1"})({name:"1i3s0wb",styles:"display:flex;justify-content:center;flex-direction:column;align-items:center;padding-top:30px;padding-bottom:30px"}),S=Object(X.a)("h2",{target:"e13q732h0"})({name:"nlv6rg",styles:"display:flex;justify-content:center;align-items:center;margin-left:auto;margin-right:auto;margin-bottom:20px;text-transform:uppercase;font-size:28px;font-weight:700;color:steelblue"});var L=function(e){var t=e.title,n=e.children;return Object(F.jsxs)(T,{children:[Object(F.jsx)(S,{children:t}),n]})},P=n(26),V=n.n(P),E=n(40),A=n(14),D=n(27),M=n(21),N=n(32);n(197);var Q=Object(X.a)(M.c,{target:"e1xdre8z4"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"}),R=(Object(X.a)("input",{target:"e1xdre8z3"})(""),Object(X.a)("label",{target:"e1xdre8z2"})({name:"pr10xp",styles:"margin-bottom:10px"})),I=Object(X.a)("button",{target:"e1xdre8z1"})({name:"dmq2v8",styles:"display:inline-flex;justify-content:center;align-items:center;min-width:100px;padding:10px 12px;margin-top:15px;font-size:14px;font-weight:700;color:#fff;background-color:steelblue;border:1px solid transparent;border-radius:5px;cursor:pointer;text-transform:capitalize;&:hover,&:focus{box-shadow:0 0 10px 0 rgba(0, 0, 0, 0.5);}"}),J=Object(X.a)("div",{target:"e1xdre8z0"})({name:"whokns",styles:"font-size:12px;color:purple;margin-top:5px;margin-bottom:5px"}),B=n(16),U=N.object().shape({name:N.string().min(2,"Too Short!").max(50,"Too Long!").required("Required"),number:N.string().phone("+38",!0,"Valid number type +38 (XXX) XXX-XX-XX")});var G=function(){var e=g.endpoints.fetchContacts.useQueryState(null,{}).data,t=v(),n=Object(A.a)(t,1)[0],r=function(){var t=Object(E.a)(V.a.mark((function t(r){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===e||void 0===e?void 0:e.some((function(e){return e.name===r.name})))){t.next=3;break}return B.b.error("Contact ".concat(r.name," already exists")),t.abrupt("return");case 3:return t.prev=3,t.next=6,n(r);case 6:B.b.success("Contact ".concat(r.name," created")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),B.b.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}(),a=Object(D.a)(3),c=Object(D.a)(3);return Object(F.jsx)(M.d,{initialValues:{name:"",number:""},validationSchema:U,onSubmit:function(e,t){var n=t.resetForm,a=e.name,c=e.number;r({name:a,number:c}),n()},children:Object(F.jsxs)(Q,{children:[Object(F.jsx)(R,{htmlFor:"id-".concat(a),children:"Name"}),Object(F.jsx)(M.b,{id:"id-".concat(a),type:"text",name:"name",placeholder:"Name"}),Object(F.jsx)(M.a,{name:"name",component:J}),Object(F.jsx)(R,{htmlFor:"id-".concat(c),children:"Number"}),Object(F.jsx)(M.b,{id:"id-".concat(c),type:"tel",name:"number",placeholder:"+38 (XXX) XXX-XX-XX"}),Object(F.jsx)(M.a,{name:"number",component:J}),Object(F.jsx)(I,{type:"submit",children:"Add contact"})]})})};var H=Object(X.a)("ul",{target:"e3ypohe2"})({name:"iqoq9n",styles:"margin-top:20px"}),K=Object(X.a)("li",{target:"e3ypohe1"})({name:"38s8o",styles:"display:flex;justify-content:space-between;align-items:center;width:100%;padding:10px;border:1px solid silver;overflow:hidden;border-radius:5px;&:not(:last-child){margin-bottom:10px;}& span{display:inline-flex;align-items:center;margin-left:10px;margin-right:40px;}& svg{margin-right:5px;}"}),W=Object(X.a)("button",{target:"e3ypohe0"})({name:"dpz7yb",styles:"display:inline-flex;justify-content:center;align-items:center;min-width:100px;padding:10px;margin-left:10px;margin-right:10px;font-size:14px;font-weight:700;color:#fff;background-color:steelblue;border:1px solid transparent;border-radius:5px;cursor:pointer;text-transform:capitalize;&:hover,&:focus{box-shadow:0 0 10px 0 rgba(0, 0, 0, 0.5);}"}),Y=n(85),Z=n(86),$=function(e){return e.phonebook.filter};var _=function(){var e=Object(C.e)($),t=function(e,t){var n=e.toLowerCase();return null===t||void 0===t?void 0:t.filter((function(e){var t=e.name,r=e.number;return t.toLowerCase().includes(n)||r.includes(n)})).sort((function(e,t){return e.name.localeCompare(t.name)}))},n=O(null,{refetchOnReconnect:!0,selectFromResult:function(n){var r=n.data;return{contacts:t(e,r)}}}),r=n.contacts,a=n.isFetching,c=y(),o=Object(A.a)(c,1)[0],i=function(){var e=Object(E.a)(V.a.mark((function e(t,n){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o(t);case 3:B.b.success("Contact ".concat(n," deleted")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),B.b.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(F.jsxs)(H,{children:[a&&Object(F.jsx)("div",{children:"Loading..."}),r&&r.map((function(e){var t=e.id,n=e.name,r=e.number;return Object(F.jsxs)(K,{children:[Object(F.jsxs)("span",{children:[Object(F.jsx)(Y.a,{size:14,color:"steelblue"}),n,":"]}),Object(F.jsxs)("span",{children:[Object(F.jsx)(Z.a,{size:14,color:"steelblue"}),r]}),Object(F.jsx)(W,{type:"button",onClick:function(){return i(t,n)},children:"Delete"})]},t)}))]})};var ee=Object(X.a)("label",{target:"e1wl1lmb1"})({name:"gvjivb",styles:"margin-bottom:10px;font-size:18px;font-weight:500"}),te=Object(X.a)("input",{target:"e1wl1lmb0"})(""),ne=function(){var e=Object(C.e)($),t=Object(C.d)();return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(ee,{htmlFor:"id-".concat(Object(D.a)(3)),children:"Find contacts by name"}),Object(F.jsx)(te,{id:"id-".concat(Object(D.a)(3)),type:"text",name:"name",value:e,onChange:function(e){return t(r.getFilterValue(e.target.value))},placeholder:"Search"})]})};var re=function(){return Object(F.jsx)(B.a,{duration:"5000",position:"top-right",containerStyle:{top:100},toastOptions:{style:{border:"1px solid darksteelblue",padding:"12px",color:"darksteelblue"}}})};var ae=function(){return Object(F.jsxs)(q,{children:[Object(F.jsx)(L,{title:"Phonebook",children:Object(F.jsx)(G,{})}),Object(F.jsxs)(L,{title:"Contacts",children:[Object(F.jsx)(ne,{}),Object(F.jsx)(_,{})]}),Object(F.jsx)(re,{})]})};i.a.render(Object(F.jsx)(c.a.StrictMode,{children:Object(F.jsx)(C.a,{store:k,children:Object(F.jsx)(ae,{})})}),document.getElementById("root"))},96:function(e,t,n){}},[[198,1,2]]]);
//# sourceMappingURL=main.95e849ed.chunk.js.map